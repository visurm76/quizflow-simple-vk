{"version":3,"sources":["../../../src/components/ChipsInput/ChipsInput.tsx"],"sourcesContent":["'use client';\n\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { useMergeProps } from '../../hooks/useMergeProps';\nimport { ChipsInputBase } from '../ChipsInputBase/ChipsInputBase';\nimport type { ChipOption, ChipsInputBaseProps } from '../ChipsInputBase/types';\nimport type { FormFieldProps } from '../FormField/FormField';\nimport { useChipsInput, type UseChipsInputProps } from './useChipsInput';\n\nexport interface ChipsInputProps<Option extends ChipOption>\n  extends ChipsInputBaseProps<Option>,\n    UseChipsInputProps<Option>,\n    Pick<FormFieldProps, 'status' | 'mode' | 'before' | 'after' | 'maxHeight'> {\n  /**\n   * Если `true`, то справа будет отображаться кнопка для очистки значения.\n   */\n  allowClearButton?: boolean;\n}\n\n/**\n * @see https://vkui.io/components/chips-input\n */\nexport const ChipsInput = <Option extends ChipOption>({\n  // option\n  value: valueProp,\n  defaultValue,\n  onChange,\n\n  // input\n  getRef,\n  inputValue: inputValueProp,\n  defaultInputValue: defaultInputValueProp,\n  onInputChange: onInputChangeProp,\n  getOptionValue,\n  getOptionLabel,\n  getNewOptionData,\n\n  // other\n  disabled: disabledProp,\n  allowClearButton,\n  delimiter,\n\n  slotProps,\n  ...restProps\n}: ChipsInputProps<Option>): React.ReactNode => {\n  const {\n    getRootRef: getInputRef,\n    value: resolvedInputValue,\n    defaultValue: resolvedInputDefaultValue,\n    onChange: resolvedOnInputChange,\n    disabled,\n    ...inputRest\n  } = useMergeProps(\n    {\n      getRootRef: getRef,\n      value: inputValueProp,\n      defaultValue: defaultInputValueProp,\n      onChange: onInputChangeProp,\n      disabled: disabledProp,\n    },\n    slotProps?.input,\n  );\n\n  const {\n    value,\n    addOptionFromInput,\n    removeOption,\n    clearOptions,\n\n    // input\n    inputRef: inputRefHook,\n    inputValue,\n    onInputChange,\n  } = useChipsInput({\n    // option\n    value: valueProp,\n    defaultValue,\n    onChange,\n    getOptionLabel,\n    getOptionValue,\n    getNewOptionData,\n\n    // input\n    inputValue: resolvedInputValue as string,\n    defaultInputValue: resolvedInputDefaultValue as string,\n    onInputChange: resolvedOnInputChange,\n\n    // other\n    disabled,\n    delimiter,\n  });\n  const inputRef = useExternRef(getInputRef, inputRefHook);\n\n  return (\n    <ChipsInputBase\n      value={value}\n      clearButtonShown={allowClearButton && (!!value.length || !!inputValue.length)}\n      onAddChipOption={addOptionFromInput}\n      onRemoveChipOption={removeOption}\n      onClear={clearOptions}\n      slotProps={{\n        ...slotProps,\n        input: {\n          getRootRef: inputRef,\n          value: inputValue,\n          onChange: onInputChange,\n          disabled,\n          ...inputRest,\n        },\n      }}\n      {...restProps}\n    />\n  );\n};\n"],"names":["useExternRef","useMergeProps","ChipsInputBase","useChipsInput","ChipsInput","value","valueProp","defaultValue","onChange","getRef","inputValue","inputValueProp","defaultInputValue","defaultInputValueProp","onInputChange","onInputChangeProp","getOptionValue","getOptionLabel","getNewOptionData","disabled","disabledProp","allowClearButton","delimiter","slotProps","restProps","getRootRef","input","getInputRef","resolvedInputValue","resolvedInputDefaultValue","resolvedOnInputChange","inputRest","addOptionFromInput","removeOption","clearOptions","inputRef","inputRefHook","clearButtonShown","length","onAddChipOption","onRemoveChipOption","onClear"],"mappings":"AAAA;;;;;AAEA,SAASA,YAAY,QAAQ,8BAA2B;AACxD,SAASC,aAAa,QAAQ,+BAA4B;AAC1D,SAASC,cAAc,QAAQ,sCAAmC;AAGlE,SAASC,aAAa,QAAiC,qBAAkB;AAYzE;;CAEC,GACD,OAAO,MAAMC,aAAa;QAA4B,EACpD,SAAS;IACTC,OAAOC,SAAS,EAChBC,YAAY,EACZC,QAAQ,EAER,QAAQ;IACRC,MAAM,EACNC,YAAYC,cAAc,EAC1BC,mBAAmBC,qBAAqB,EACxCC,eAAeC,iBAAiB,EAChCC,cAAc,EACdC,cAAc,EACdC,gBAAgB,EAEhB,QAAQ;IACRC,UAAUC,YAAY,EACtBC,gBAAgB,EAChBC,SAAS,EAETC,SAAS,EAEe,WADrBC;QAnBHnB;QACAE;QACAC;QAGAC;QACAC;QACAE;QACAE;QACAE;QACAC;QACAC;QAGAC;QACAE;QACAC;QAEAC;;IAGA,MAOItB,iBAAAA,cACF;QACEwB,YAAYhB;QACZJ,OAAOM;QACPJ,cAAcM;QACdL,UAAUO;QACVI,UAAUC;IACZ,GACAG,sBAAAA,gCAAAA,UAAWG,KAAK,GAfZ,EACJD,YAAYE,WAAW,EACvBtB,OAAOuB,kBAAkB,EACzBrB,cAAcsB,yBAAyB,EACvCrB,UAAUsB,qBAAqB,EAC/BX,QAAQ,EAET,GAAGlB,gBADC8B,uCACD9B;QANFwB;QACApB;QACAE;QACAC;QACAW;;IAaF,MAAM,EACJd,KAAK,EACL2B,kBAAkB,EAClBC,YAAY,EACZC,YAAY,EAEZ,QAAQ;IACRC,UAAUC,YAAY,EACtB1B,UAAU,EACVI,aAAa,EACd,GAAGX,cAAc;QAChB,SAAS;QACTE,OAAOC;QACPC;QACAC;QACAS;QACAD;QACAE;QAEA,QAAQ;QACRR,YAAYkB;QACZhB,mBAAmBiB;QACnBf,eAAegB;QAEf,QAAQ;QACRX;QACAG;IACF;IACA,MAAMa,WAAWnC,aAAa2B,aAAaS;IAE3C,qBACE,KAAClC;QACCG,OAAOA;QACPgC,kBAAkBhB,oBAAqB,CAAA,CAAC,CAAChB,MAAMiC,MAAM,IAAI,CAAC,CAAC5B,WAAW4B,MAAM,AAAD;QAC3EC,iBAAiBP;QACjBQ,oBAAoBP;QACpBQ,SAASP;QACTX,WAAW,wCACNA;YACHG,OAAO;gBACLD,YAAYU;gBACZ9B,OAAOK;gBACPF,UAAUM;gBACVK;eACGY;;OAGHP;AAGV,EAAE"}