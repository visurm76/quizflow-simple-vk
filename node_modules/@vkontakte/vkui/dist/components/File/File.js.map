{"version":3,"sources":["../../../src/components/File/File.tsx"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport { useMergeProps } from '../../hooks/useMergeProps';\nimport { warnOnce } from '../../lib/warnOnce';\nimport type { HasDataAttribute, HasRootRef } from '../../types';\nimport { Button, type VKUIButtonProps } from '../Button/Button';\nimport { VisuallyHidden } from '../VisuallyHidden/VisuallyHidden';\n\nconst warn = warnOnce('File');\n\nexport interface FileProps\n  extends Omit<VKUIButtonProps, 'type'>,\n    Omit<React.InputHTMLAttributes<HTMLInputElement>, 'type' | 'size'>,\n    HasRootRef<HTMLElement> {\n  /**\n   * @deprecated Since 7.9.0. Вместо этого используйте `slotProps={ input: { getRootRef: ... } }`.\n   */\n  getRef?: React.Ref<HTMLInputElement>;\n  /**\n   * Свойства, которые можно прокинуть внутрь компонента:\n   * - `root`: свойства для прокидывания в корень компонента;\n   * - `input`: свойства для прокидывания в скрытый `input`.\n   */\n  slotProps?: {\n    root?: Omit<React.LabelHTMLAttributes<HTMLLabelElement>, 'children'> &\n      HasRootRef<HTMLLabelElement> &\n      HasDataAttribute;\n    input?: Omit<React.InputHTMLAttributes<HTMLInputElement>, 'type' | 'size'> &\n      HasRootRef<HTMLInputElement> &\n      HasDataAttribute;\n  };\n}\n\n/**\n * @see https://vkui.io/components/file\n */\nexport const File = ({\n  getRootRef,\n  className,\n  style,\n  children = 'Выберите файл',\n  align = 'left',\n  size,\n  mode,\n  stretched,\n  before,\n  after,\n  loading,\n  getRef,\n  appearance,\n  slotProps,\n  ...restProps\n}: FileProps): React.ReactNode => {\n  /* istanbul ignore if: не проверяем в тестах */\n  if (process.env.NODE_ENV === 'development' && getRef) {\n    warn('Свойство `getRef` устаревшее, используйте `slotProps={ input: { getRootRef: ... } }`');\n  }\n\n  const rootProps = useMergeProps(\n    {\n      className,\n      style,\n      getRootRef: getRootRef as React.Ref<HTMLLabelElement>,\n    },\n    slotProps?.root,\n  );\n  const inputRest = useMergeProps({ getRootRef: getRef, ...restProps }, slotProps?.input);\n\n  return (\n    <Button\n      Component=\"label\"\n      align={align}\n      stretched={stretched}\n      mode={mode}\n      appearance={appearance}\n      size={size}\n      before={before}\n      after={after}\n      loading={loading}\n      disabled={inputRest.disabled}\n      {...rootProps}\n    >\n      <VisuallyHidden title=\"\" Component=\"input\" type=\"file\" {...inputRest} />\n      {children}\n    </Button>\n  );\n};\n"],"names":["React","useMergeProps","warnOnce","Button","VisuallyHidden","warn","File","getRootRef","className","style","children","align","size","mode","stretched","before","after","loading","getRef","appearance","slotProps","restProps","process","env","NODE_ENV","rootProps","root","inputRest","input","Component","disabled","title","type"],"mappings":"AAAA;;;;;AAEA,YAAYA,WAAW,QAAQ;AAC/B,SAASC,aAAa,QAAQ,+BAA4B;AAC1D,SAASC,QAAQ,QAAQ,wBAAqB;AAE9C,SAASC,MAAM,QAA8B,sBAAmB;AAChE,SAASC,cAAc,QAAQ,sCAAmC;AAElE,MAAMC,OAAOH,SAAS;AAyBtB;;CAEC,GACD,OAAO,MAAMI,OAAO;QAAC,EACnBC,UAAU,EACVC,SAAS,EACTC,KAAK,EACLC,WAAW,eAAe,EAC1BC,QAAQ,MAAM,EACdC,IAAI,EACJC,IAAI,EACJC,SAAS,EACTC,MAAM,EACNC,KAAK,EACLC,OAAO,EACPC,MAAM,EACNC,UAAU,EACVC,SAAS,EAEC,WADPC;QAdHd;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;;IAGA,6CAA6C,GAC7C,IAAIE,QAAQC,GAAG,CAACC,QAAQ,KAAK,iBAAiBN,QAAQ;QACpDb,KAAK;IACP;IAEA,MAAMoB,YAAYxB,cAChB;QACEO;QACAC;QACAF,YAAYA;IACd,GACAa,sBAAAA,gCAAAA,UAAWM,IAAI;IAEjB,MAAMC,YAAY1B,cAAc;QAAEM,YAAYW;OAAWG,YAAaD,sBAAAA,gCAAAA,UAAWQ,KAAK;IAEtF,qBACE,MAACzB;QACC0B,WAAU;QACVlB,OAAOA;QACPG,WAAWA;QACXD,MAAMA;QACNM,YAAYA;QACZP,MAAMA;QACNG,QAAQA;QACRC,OAAOA;QACPC,SAASA;QACTa,UAAUH,UAAUG,QAAQ;OACxBL;;0BAEJ,KAACrB;gBAAe2B,OAAM;gBAAGF,WAAU;gBAAQG,MAAK;eAAWL;YAC1DjB;;;AAGP,EAAE"}