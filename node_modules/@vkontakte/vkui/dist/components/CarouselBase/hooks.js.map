{"version":3,"sources":["../../../src/components/CarouselBase/hooks.ts"],"sourcesContent":["import * as React from 'react';\nimport { animate, type DrawInterface, type TimingInterface } from '../../lib/animate';\nimport { cubicBezier } from '../../lib/fx';\nimport type { BaseGalleryProps, CubicBezierEasingType, PredefinedEasingType } from './types';\n\nconst PRESET_ANIMATION_EASING: Record<PredefinedEasingType, CubicBezierEasingType> = {\n  'linear': [0, 0, 1, 1],\n  'ease': [0.25, 0.1, 0.25, 1],\n  'ease-in': [0.42, 0, 1, 1],\n  'ease-out': [0, 0, 0.58, 1],\n  'ease-in-out': [0.42, 0, 0.58, 1],\n};\n\nexport function useSlideAnimation(\n  animationDuration: NonNullable<BaseGalleryProps['animationDuration']>,\n  animationEasing: PredefinedEasingType | CubicBezierEasingType,\n): {\n  getAnimateFunction: (drawFunction: DrawInterface) => () => void;\n  getAnimationEasing: () => string;\n  addToAnimationQueue: (func: VoidFunction) => void;\n  startAnimation: () => void;\n  animationInQueue: () => boolean;\n} {\n  const animationQueue = React.useRef<VoidFunction[]>([]);\n\n  function getAnimateFunction(drawFunction: DrawInterface) {\n    return () => {\n      animate({\n        duration: animationDuration,\n        timing: getAnimationTiming(animationEasing),\n        animationQueue: animationQueue.current,\n        draw: drawFunction,\n      });\n    };\n  }\n\n  function addToAnimationQueue(func: VoidFunction) {\n    animationQueue.current.push(func);\n  }\n\n  function startAnimation() {\n    if (animationQueue.current.length === 1) {\n      animationQueue.current[0]();\n    }\n  }\n\n  function animationInQueue() {\n    return !!animationQueue.current.length;\n  }\n\n  function getAnimationEasing() {\n    return `cubic-bezier(${(typeof animationEasing === 'string' ? PRESET_ANIMATION_EASING[animationEasing] : animationEasing).join(', ')})`;\n  }\n\n  return {\n    animationInQueue,\n    getAnimateFunction,\n    addToAnimationQueue,\n    startAnimation,\n    getAnimationEasing,\n  };\n}\n\nfunction getAnimationTiming(\n  animationEasing: PredefinedEasingType | CubicBezierEasingType,\n): TimingInterface {\n  if (typeof animationEasing === 'string') {\n    return cubicBezier(...PRESET_ANIMATION_EASING[animationEasing]);\n  }\n\n  return cubicBezier(...animationEasing);\n}\n"],"names":["React","animate","cubicBezier","PRESET_ANIMATION_EASING","useSlideAnimation","animationDuration","animationEasing","animationQueue","useRef","getAnimateFunction","drawFunction","duration","timing","getAnimationTiming","current","draw","addToAnimationQueue","func","push","startAnimation","length","animationInQueue","getAnimationEasing","join"],"mappings":"AAAA,YAAYA,WAAW,QAAQ;AAC/B,SAASC,OAAO,QAAkD,uBAAoB;AACtF,SAASC,WAAW,QAAQ,kBAAe;AAG3C,MAAMC,0BAA+E;IACnF,UAAU;QAAC;QAAG;QAAG;QAAG;KAAE;IACtB,QAAQ;QAAC;QAAM;QAAK;QAAM;KAAE;IAC5B,WAAW;QAAC;QAAM;QAAG;QAAG;KAAE;IAC1B,YAAY;QAAC;QAAG;QAAG;QAAM;KAAE;IAC3B,eAAe;QAAC;QAAM;QAAG;QAAM;KAAE;AACnC;AAEA,OAAO,SAASC,kBACdC,iBAAqE,EACrEC,eAA6D;IAQ7D,MAAMC,iBAAiBP,MAAMQ,MAAM,CAAiB,EAAE;IAEtD,SAASC,mBAAmBC,YAA2B;QACrD,OAAO;YACLT,QAAQ;gBACNU,UAAUN;gBACVO,QAAQC,mBAAmBP;gBAC3BC,gBAAgBA,eAAeO,OAAO;gBACtCC,MAAML;YACR;QACF;IACF;IAEA,SAASM,oBAAoBC,IAAkB;QAC7CV,eAAeO,OAAO,CAACI,IAAI,CAACD;IAC9B;IAEA,SAASE;QACP,IAAIZ,eAAeO,OAAO,CAACM,MAAM,KAAK,GAAG;YACvCb,eAAeO,OAAO,CAAC,EAAE;QAC3B;IACF;IAEA,SAASO;QACP,OAAO,CAAC,CAACd,eAAeO,OAAO,CAACM,MAAM;IACxC;IAEA,SAASE;QACP,OAAO,CAAC,aAAa,EAAE,AAAC,CAAA,OAAOhB,oBAAoB,WAAWH,uBAAuB,CAACG,gBAAgB,GAAGA,eAAc,EAAGiB,IAAI,CAAC,MAAM,CAAC,CAAC;IACzI;IAEA,OAAO;QACLF;QACAZ;QACAO;QACAG;QACAG;IACF;AACF;AAEA,SAAST,mBACPP,eAA6D;IAE7D,IAAI,OAAOA,oBAAoB,UAAU;QACvC,OAAOJ,eAAeC,uBAAuB,CAACG,gBAAgB;IAChE;IAEA,OAAOJ,eAAeI;AACxB"}