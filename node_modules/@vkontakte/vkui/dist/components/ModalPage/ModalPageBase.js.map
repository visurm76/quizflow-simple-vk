{"version":3,"sources":["../../../src/components/ModalPage/ModalPageBase.tsx"],"sourcesContent":["'use client';\n/* eslint-disable jsdoc/require-jsdoc */\n\nimport { Icon20Cancel } from '@vkontakte/icons';\nimport { classNames, hasReactNode, noop } from '@vkontakte/vkjs';\nimport { BLOCK_SHEET_BEHAVIOR_DATA_ATTRIBUTE } from '../../lib/sheet';\nimport { type HasRef, type HTMLAttributesWithRootRef } from '../../types';\nimport { ModalOutsideButton } from '../ModalOutsideButton/ModalOutsideButton';\nimport { ModalOutsideButtons } from '../ModalOutsideButtons/ModalOutsideButtons';\nimport { ModalPageContent } from '../ModalPageContent/ModalPageContent';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { type ModalPageInternalProps } from './ModalPageInternal';\nimport styles from './ModalPage.module.css';\n\nexport interface ModalPageBaseProps\n  extends Omit<HTMLAttributesWithRootRef<HTMLDivElement>, 'title'>,\n    HasRef<HTMLDivElement>,\n    Pick<\n      ModalPageInternalProps,\n      | 'disableContentPanningGesture'\n      | 'header'\n      | 'children'\n      | 'footer'\n      | 'outsideButtons'\n      | 'modalContentTestId'\n      | 'modalDismissButtonTestId'\n      | 'modalDismissButtonLabel'\n      | 'hideCloseButton'\n      | 'onClose'\n    > {\n  isDesktop?: boolean;\n  closable?: boolean;\n}\n\nexport const ModalPageBase = ({\n  isDesktop,\n  getRef,\n  disableContentPanningGesture,\n  header,\n  children,\n  footer,\n  outsideButtons,\n  modalContentTestId,\n  modalDismissButtonTestId,\n  modalDismissButtonLabel,\n  hideCloseButton,\n  closable,\n  onClose = noop,\n  ...restProps\n}: ModalPageBaseProps) => {\n  const disableContentPanningGestureProp = disableContentPanningGesture\n    ? BLOCK_SHEET_BEHAVIOR_DATA_ATTRIBUTE\n    : undefined;\n\n  const closeButton =\n    hideCloseButton || !isDesktop ? null : (\n      <ModalOutsideButton\n        data-testid={modalDismissButtonTestId}\n        onClick={\n          closable\n            ? function handleDismissButtonClick(event) {\n                onClose('click-close-button', event);\n              }\n            : noop\n        }\n        aria-label={modalDismissButtonLabel}\n      >\n        <Icon20Cancel />\n      </ModalOutsideButton>\n    );\n\n  return (\n    <RootComponent role=\"document\" baseClassName={styles.document} {...restProps}>\n      <div\n        className={classNames(\n          styles.children,\n          isDesktop ? styles.childrenDesktop : styles.childrenMobile,\n        )}\n      >\n        {hasReactNode(header) && header}\n        <ModalPageContent\n          getRootRef={getRef}\n          data-testid={modalContentTestId}\n          {...disableContentPanningGestureProp}\n        >\n          {children}\n        </ModalPageContent>\n        {hasReactNode(footer) && footer}\n      </div>\n      {isDesktop && (closeButton || outsideButtons) && (\n        <ModalOutsideButtons>\n          {closeButton}\n          {outsideButtons}\n        </ModalOutsideButtons>\n      )}\n    </RootComponent>\n  );\n};\n"],"names":["Icon20Cancel","classNames","hasReactNode","noop","BLOCK_SHEET_BEHAVIOR_DATA_ATTRIBUTE","ModalOutsideButton","ModalOutsideButtons","ModalPageContent","RootComponent","ModalPageBase","isDesktop","getRef","disableContentPanningGesture","header","children","footer","outsideButtons","modalContentTestId","modalDismissButtonTestId","modalDismissButtonLabel","hideCloseButton","closable","onClose","restProps","disableContentPanningGestureProp","undefined","closeButton","data-testid","onClick","handleDismissButtonClick","event","aria-label","role","baseClassName","div","className","getRootRef"],"mappings":"AAAA;;;;;AACA,sCAAsC,GAEtC,SAASA,YAAY,QAAQ,mBAAmB;AAChD,SAASC,UAAU,EAAEC,YAAY,EAAEC,IAAI,QAAQ,kBAAkB;AACjE,SAASC,mCAAmC,QAAQ,2BAAkB;AAEtE,SAASC,kBAAkB,QAAQ,8CAA2C;AAC9E,SAASC,mBAAmB,QAAQ,gDAA6C;AACjF,SAASC,gBAAgB,QAAQ,0CAAuC;AACxE,SAASC,aAAa,QAAQ,oCAAiC;AAwB/D,OAAO,MAAMC,gBAAgB;QAAC,EAC5BC,SAAS,EACTC,MAAM,EACNC,4BAA4B,EAC5BC,MAAM,EACNC,QAAQ,EACRC,MAAM,EACNC,cAAc,EACdC,kBAAkB,EAClBC,wBAAwB,EACxBC,uBAAuB,EACvBC,eAAe,EACfC,QAAQ,EACRC,UAAUnB,IAAI,EAEK,WADhBoB;QAbHb;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;;IAGA,MAAME,mCAAmCZ,+BACrCR,sCACAqB;IAEJ,MAAMC,cACJN,mBAAmB,CAACV,YAAY,qBAC9B,KAACL;QACCsB,eAAaT;QACbU,SACEP,WACI,SAASQ,yBAAyBC,KAAK;YACrCR,QAAQ,sBAAsBQ;QAChC,IACA3B;QAEN4B,cAAYZ;kBAEZ,cAAA,KAACnB;;IAIP,qBACE,MAACQ;QAAcwB,MAAK;QAAWC,aAAa;OAAuBV;;0BACjE,MAACW;gBACCC,WAAWlC,sCAETS;;oBAGDR,aAAaW,WAAWA;kCACzB,KAACN;wBACC6B,YAAYzB;wBACZgB,eAAaV;uBACTO;kCAEHV;;oBAEFZ,aAAaa,WAAWA;;;YAE1BL,aAAcgB,CAAAA,eAAeV,cAAa,mBACzC,MAACV;;oBACEoB;oBACAV;;;;;AAKX,EAAE"}