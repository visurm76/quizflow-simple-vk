{"version":3,"sources":["../../../../src/lib/sheet/controllers/CSSTransitionController.ts"],"sourcesContent":["export type CSSTransitionControllerUnit = 'px' | '%' | '';\n\nexport class CSSTransitionController<V extends number | string = number> {\n  public readonly el: HTMLElement;\n  public readonly property: string;\n\n  constructor(el: HTMLElement, property: string) {\n    this.el = el;\n    this.property = property;\n  }\n\n  set(to: V) {\n    this.el.style.setProperty(this.property, `${to}`);\n    return this;\n  }\n\n  unset() {\n    return this.cleanup();\n  }\n\n  enableTransition() {\n    this.el.style.removeProperty('transition');\n    return this;\n  }\n\n  disableTransition() {\n    this.el.style.setProperty('transition', 'none');\n    return this;\n  }\n\n  cleanup() {\n    this.el.removeEventListener('transitionend', this.handleTransitionEnd);\n    this.el.style.removeProperty('transition');\n    this.el.style.removeProperty(this.property);\n    return this;\n  }\n\n  cleanupOnTransitionEnd() {\n    this.el.addEventListener('transitionend', this.handleTransitionEnd, { once: true });\n    return this;\n  }\n\n  private readonly handleTransitionEnd = () => {\n    this.cleanup();\n    return this;\n  };\n}\n"],"names":["CSSTransitionController","set","to","el","style","setProperty","property","unset","cleanup","enableTransition","removeProperty","disableTransition","removeEventListener","handleTransitionEnd","cleanupOnTransitionEnd","addEventListener","once"],"mappings":";AAEA,OAAO,MAAMA;IASXC,IAAIC,EAAK,EAAE;QACT,IAAI,CAACC,EAAE,CAACC,KAAK,CAACC,WAAW,CAAC,IAAI,CAACC,QAAQ,EAAE,GAAGJ,IAAI;QAChD,OAAO,IAAI;IACb;IAEAK,QAAQ;QACN,OAAO,IAAI,CAACC,OAAO;IACrB;IAEAC,mBAAmB;QACjB,IAAI,CAACN,EAAE,CAACC,KAAK,CAACM,cAAc,CAAC;QAC7B,OAAO,IAAI;IACb;IAEAC,oBAAoB;QAClB,IAAI,CAACR,EAAE,CAACC,KAAK,CAACC,WAAW,CAAC,cAAc;QACxC,OAAO,IAAI;IACb;IAEAG,UAAU;QACR,IAAI,CAACL,EAAE,CAACS,mBAAmB,CAAC,iBAAiB,IAAI,CAACC,mBAAmB;QACrE,IAAI,CAACV,EAAE,CAACC,KAAK,CAACM,cAAc,CAAC;QAC7B,IAAI,CAACP,EAAE,CAACC,KAAK,CAACM,cAAc,CAAC,IAAI,CAACJ,QAAQ;QAC1C,OAAO,IAAI;IACb;IAEAQ,yBAAyB;QACvB,IAAI,CAACX,EAAE,CAACY,gBAAgB,CAAC,iBAAiB,IAAI,CAACF,mBAAmB,EAAE;YAAEG,MAAM;QAAK;QACjF,OAAO,IAAI;IACb;IAlCA,YAAYb,EAAe,EAAEG,QAAgB,CAAE;QAH/C,uBAAgBH,MAAhB,KAAA;QACA,uBAAgBG,YAAhB,KAAA;QAsCA,uBAAiBO,uBAAsB;YACrC,IAAI,CAACL,OAAO;YACZ,OAAO,IAAI;QACb;QAtCE,IAAI,CAACL,EAAE,GAAGA;QACV,IAAI,CAACG,QAAQ,GAAGA;IAClB;AAqCF"}