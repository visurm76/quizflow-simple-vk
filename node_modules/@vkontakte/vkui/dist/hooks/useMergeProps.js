import { _ as _object_spread } from "@swc/helpers/_/_object_spread";
import { _ as _object_without_properties } from "@swc/helpers/_/_object_without_properties";
import { classNames } from "@vkontakte/vkjs";
import { getMergedSameEventsByProps } from "../helpers/getMergedSameEventsByProps.js";
import { mergeStyle } from "../helpers/mergeStyle.js";
import { filterObject } from "../lib/object.js";
import { useExternRef } from "./useExternRef.js";
const filterProps = (props)=>{
    return filterObject(props, (value)=>value !== undefined);
};
export const useMergeProps = (originalProps, slotProps)=>{
    const originalSlotGetRef = originalProps.getRootRef;
    const rootSlotGetRef = slotProps === null || slotProps === void 0 ? void 0 : slotProps.getRootRef;
    const getRootRef = useExternRef(originalSlotGetRef, rootSlotGetRef);
    if (!slotProps) {
        return filterProps(originalProps);
    }
    const _ref = slotProps || {}, { className: rootSlotClassName, style: rootSlotStyle } = _ref, rootSlotProps = _object_without_properties(_ref, [
        "className",
        "style"
    ]);
    const { className: originalClassName, style: originalSlotStyle } = originalProps, originalRestProps = _object_without_properties(originalProps, [
        "className",
        "style"
    ]);
    const resolvedClassName = originalClassName || rootSlotClassName ? classNames(originalClassName, rootSlotClassName) : undefined;
    const resolvedStyle = originalSlotStyle || rootSlotStyle ? mergeStyle(originalSlotStyle, rootSlotStyle) : undefined;
    const mergedEventsByInjectProps = getMergedSameEventsByProps(originalRestProps, rootSlotProps);
    const resolvedProps = _object_spread({}, originalRestProps, rootSlotProps, mergedEventsByInjectProps);
    if (resolvedClassName) {
        resolvedProps.className = resolvedClassName;
    }
    if (resolvedStyle) {
        resolvedProps.style = resolvedStyle;
    }
    if (rootSlotGetRef || originalSlotGetRef) {
        resolvedProps.getRootRef = getRootRef;
    }
    return filterProps(resolvedProps);
};

//# sourceMappingURL=useMergeProps.js.map