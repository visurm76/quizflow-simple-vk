{"version":3,"sources":["../../../../src/components/ModalRoot/types.ts"],"sourcesContent":["/* eslint-disable jsdoc/require-jsdoc */\n\n/** TODO [>=8] Удалить deprecated типы. */\n\nimport type { AppRootPortalProps } from '../AppRoot/AppRootPortal';\n\n/**\n * @deprecated Будет удалён в **VKUI v8**.\n */\nexport type ModalType = 'page' | 'card';\n\n/**\n * @deprecated Будет удалён в **VKUI v8**.\n */\nexport type TranslateRange = [number, number];\n\n/**\n * @deprecated Будет удалён в **VKUI v8**.\n */\nexport interface ModalElements {\n  modalElement?: HTMLElement | null;\n  innerElement?: HTMLElement | null;\n  headerElement?: HTMLElement | null;\n  contentElement?: HTMLElement | null;\n  bottomInset?: HTMLElement | null;\n}\n\n/**\n * @deprecated Будет удалён в **VKUI v8**.\n */\nexport interface ModalsStateEntry extends ModalElements {\n  id: string | null;\n  /**\n   * Событие начала открытия модалки.\n   */\n  onOpen?: VoidFunction;\n  /**\n   * Событие открытия модалки.\n   */\n  onOpened?: VoidFunction;\n  /**\n   * Событие начала закрытия модалки.\n   */\n  onClose?: VoidFunction;\n  /**\n   * Событие закрытия модалки.\n   */\n  onClosed?: VoidFunction;\n  type?: ModalType;\n\n  settlingHeight?: number;\n  expandable?: boolean;\n\n  /**\n   * Процент текущего сдвига модалки.\n   */\n  translateY?: number;\n  /**\n   * Процент сдвига модалки в изначальном состоянии.\n   */\n  translateYFrom?: number;\n  /**\n   * Процент сдвига модалки во время взаимодействия с ней (потянуть, чтобы открыть или закрыть).\n   */\n  translateYCurrent?: number;\n\n  touchStartContentScrollTop?: number;\n  touchMovePositive?: boolean | null;\n  touchShiftYPercent?: number;\n\n  expanded?: boolean;\n  collapsed?: boolean;\n  hidden?: boolean;\n\n  contentScrolled?: boolean;\n  contentScrollStopTimeout?: ReturnType<typeof setTimeout>;\n\n  expandedRange?: TranslateRange;\n  collapsedRange?: TranslateRange;\n  hiddenRange?: TranslateRange;\n  /**\n   * Отключает возможность закрыть модалку стандартными способами.\n   */\n  preventClose?: boolean;\n}\n\nexport type ModalRootActiveModal = string | null;\n\nexport type ModalRootCallbackFunction = (modalId: string) => void;\n\ntype ModalRootBaseProps = {\n  /**\n   * Открывает модальное окно с переданным id.\n   */\n  activeModal?: ModalRootActiveModal;\n\n  /**\n   * `data-testid` для маски.\n   */\n  modalOverlayTestId?: string;\n\n  /**\n   * Отключает фокус на контейнер диалогового окна при открытии.\n   *\n   * > Важно установить фокус после открытия в любое место модалки используя событие `onOpened`, иначе не будет работать закрытие по нажатию `Esc`.\n   */\n  noFocusToDialog?: boolean;\n\n  usePortal?: AppRootPortalProps['usePortal'];\n  /**\n   * Будет вызвано при начале открытия активной модалки с её id.\n   */\n  onOpen?: ModalRootCallbackFunction;\n\n  /**\n   * Будет вызвано при окончательном открытии активной модалки с её id.\n   */\n  onOpened?: ModalRootCallbackFunction;\n\n  /**\n   * Будет вызвано при начале закрытия активной модалки с её id.\n   */\n  onClose?: ModalRootCallbackFunction;\n\n  /**\n   * Будет вызвано при окончательном закрытии активной модалки с её id.\n   */\n  onClosed?: ModalRootCallbackFunction;\n\n  /**\n   * Отключает отображение и взаимодействие с фоном модалки.\n   */\n  disableModalOverlay?: boolean;\n};\n\nexport interface ModalRootProps extends ModalRootBaseProps {\n  children: React.ReactElement | Iterable<React.ReactElement>;\n}\n\ntype ModalRootContextBaseInterface = {\n  /**\n   * Обозначает, в контексте ли модального окна мы сейчас.\n   */\n  isInsideModal: boolean;\n\n  /**\n   * С **VKUI v7** задача с обновлением высоты контента при `dynamicContentHeight` решается через CSS.\n   *\n   * @deprecated Будет удалён в **VKUI v8**.\n   */\n  updateModalHeight: VoidFunction;\n\n  /**\n   * С **VKUI v7** регистрация модальных окон больше не требуется.\n   *\n   * @deprecated Будет удалён в **VKUI v8**.\n   */\n  registerModal: (data: ModalElements & Required<Pick<ModalsStateEntry, 'type' | 'id'>>) => void;\n};\n\nexport interface ModalRootContextInterface\n  extends ModalRootContextBaseInterface,\n    ModalRootBaseProps {}\n\nexport interface UseModalRootContext extends ModalRootContextBaseInterface {\n  activeModal?: string | null;\n  onClose?: VoidFunction;\n}\n"],"names":[],"mappings":"AAAA,sCAAsC,GAEtC,wCAAwC,GAkKxC,WAGC"}