{"version":3,"sources":["../../../../src/components/Flex/Flex.tsx"],"sourcesContent":["import { classNames } from '@vkontakte/vkjs';\nimport {\n  calculateGap,\n  columnGapClassNames,\n  type GapProp,\n  type GapsProp,\n  resolveLayoutProps,\n  rowGapClassNames,\n} from '../../lib/layouts';\nimport type { LayoutProps } from '../../lib/layouts/types';\nimport type { CSSCustomProperties } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport type { RootComponentProps } from '../RootComponent/RootComponent';\nimport { FlexItem, type FlexItemProps } from './FlexItem/FlexItem';\nimport styles from './Flex.module.css';\nimport flexItemStyles from './FlexItem/FlexItem.module.css';\n\nexport type { FlexItemProps };\n\nconst justifyClassNames = {\n  'start': styles.justifyStart,\n  'end': styles.justifyEnd,\n  'center': styles.justifyCenter,\n  'space-around': styles.justifySpaceAround,\n  'space-between': styles.justifySpaceBetween,\n  'space-evenly': styles.justifySpaceEvenly,\n};\n\nconst alignClassNames = {\n  start: styles.alignStart,\n  end: styles.alignEnd,\n  center: styles.alignCenter,\n  stretch: styles.alignStretch,\n  baseline: styles.alignBaseline,\n};\n\nconst alignSelfClassNames = {\n  start: flexItemStyles.alignSelfStart,\n  end: flexItemStyles.alignSelfEnd,\n  center: flexItemStyles.alignSelfCenter,\n  baseline: flexItemStyles.alignSelfBaseline,\n  stretch: flexItemStyles.alignSelfStretch,\n};\n\nconst displayClassNames = {\n  'none': styles.displayNone,\n  'inline-flex': styles.displayInlineFlex,\n};\n\ntype FlexContentProps =\n  | 'start'\n  | 'end'\n  | 'center'\n  | 'space-around'\n  | 'space-between'\n  | 'space-evenly';\n\nexport interface FlexProps\n  extends Omit<RootComponentProps<HTMLElement>, 'baseClassName'>,\n    LayoutProps {\n  /**\n   * Направление осей, эквивалентно `flex-direction`.\n   */\n  direction?: 'row' | 'column';\n  /**\n   * Отступы между элементами.\n   * Значение из списка предопределённых пресетов или число, которое будет приведено к пикселям.\n   * Через массив можно задать отступ между столбцами и строками [row, column], если они отличаются.\n   */\n  gap?: GapsProp;\n  /**\n   * Отключает перенос контента, эквивалентно `flex-wrap=nowrap`.\n   */\n  noWrap?: boolean;\n  /**\n   * Выравнивание элементов по вспомогательной оси, эквивалентно `align-items`.\n   */\n  align?: 'start' | 'end' | 'center' | 'stretch' | 'baseline';\n  /**\n   * Выравнивание элементов по главной оси, эквивалентно `justify-content`.\n   */\n  justify?: FlexContentProps;\n  /**\n   * Значение `auto` позволяет задать платформенные отступы вокруг контейнера.\n   */\n  margin?: 'none' | 'auto';\n  /**\n   * Для инвертирования направления, эквивалентно `row-reverse` `column-reverse`.\n   */\n  reverse?: boolean;\n  /**\n   * Для задания выравнивания, отличного от установленного на родителе, эквивалентно `align-self`.\n   */\n  alignSelf?: 'start' | 'end' | 'center' | 'baseline' | 'stretch';\n  /**\n   * Возможность задать css-свойство `display`.\n   */\n  display?: 'none' | 'flex' | 'inline-flex';\n}\n\n/**\n * @see https://vkui.io/components/flex\n */\nexport const Flex: React.FC<FlexProps> & {\n  /**\n   * @deprecated Since 7.11.0. Будет удалено в **VKUI v9**.\n   * Используйте компонент `Flex`.\n   */\n  Item: typeof FlexItem;\n} = ({\n  gap = 0,\n  align,\n  justify,\n  margin = 'none',\n  noWrap = false,\n  direction = 'row',\n  reverse = false,\n  children,\n  alignSelf,\n  display = 'flex',\n  ...restProps\n}: FlexProps) => {\n  const [rowGap, columnGap] = calculateGap(gap);\n  const resolvedProps = resolveLayoutProps(restProps);\n\n  return (\n    <RootComponent\n      {...resolvedProps}\n      baseClassName={classNames(\n        styles.host,\n        !noWrap && styles.wrap,\n        reverse && styles.reverse,\n        direction !== 'row' && styles.directionColumn,\n        margin !== 'none' && styles.marginAuto,\n        align && alignClassNames[align],\n        alignSelf && alignSelfClassNames[alignSelf],\n        justify && justifyClassNames[justify],\n        getGapsPresets(rowGap, columnGap),\n        display !== 'flex' && displayClassNames[display],\n      )}\n      baseStyle={getGapsByUser(rowGap, columnGap)}\n    >\n      {children}\n    </RootComponent>\n  );\n};\n\nfunction getGapsPresets(rowGap: GapProp, columnGap: GapProp) {\n  return classNames(\n    typeof rowGap === 'string' && rowGapClassNames[rowGap],\n    typeof columnGap === 'string' && columnGapClassNames[columnGap],\n  );\n}\n\nfunction getGapsByUser(rowGap: GapProp, columnGap: GapProp) {\n  const style: CSSCustomProperties = {};\n\n  if (typeof rowGap === 'number') {\n    style['--vkui_internal--row_gap'] = `${rowGap}px`;\n  }\n  if (typeof columnGap === 'number') {\n    style['--vkui_internal--column_gap'] = `${columnGap}px`;\n  }\n\n  return style;\n}\n\nFlex.Item = FlexItem;\n"],"names":["classNames","calculateGap","columnGapClassNames","resolveLayoutProps","rowGapClassNames","RootComponent","FlexItem","styles","flexItemStyles","justifyClassNames","justifyStart","justifyEnd","justifyCenter","justifySpaceAround","justifySpaceBetween","justifySpaceEvenly","alignClassNames","start","alignStart","end","alignEnd","center","alignCenter","stretch","alignStretch","baseline","alignBaseline","alignSelfClassNames","alignSelfStart","alignSelfEnd","alignSelfCenter","alignSelfBaseline","alignSelfStretch","displayClassNames","displayNone","displayInlineFlex","Flex","gap","align","justify","margin","noWrap","direction","reverse","children","alignSelf","display","restProps","rowGap","columnGap","resolvedProps","baseClassName","host","wrap","directionColumn","marginAuto","getGapsPresets","baseStyle","getGapsByUser","style","Item"],"mappings":";AAAA,SAASA,UAAU,QAAQ,kBAAkB;AAC7C,SACEC,YAAY,EACZC,mBAAmB,EAGnBC,kBAAkB,EAClBC,gBAAgB,QACX,6BAAoB;AAG3B,SAASC,aAAa,QAAQ,oCAAiC;AAE/D,SAASC,QAAQ,QAA4B,yBAAsB;AACnE,OAAOC,YAAY,oBAAoB;AACvC,OAAOC,oBAAoB,iCAAiC;AAI5D,MAAMC,oBAAoB;IACxB,SAASF,OAAOG,YAAY;IAC5B,OAAOH,OAAOI,UAAU;IACxB,UAAUJ,OAAOK,aAAa;IAC9B,gBAAgBL,OAAOM,kBAAkB;IACzC,iBAAiBN,OAAOO,mBAAmB;IAC3C,gBAAgBP,OAAOQ,kBAAkB;AAC3C;AAEA,MAAMC,kBAAkB;IACtBC,OAAOV,OAAOW,UAAU;IACxBC,KAAKZ,OAAOa,QAAQ;IACpBC,QAAQd,OAAOe,WAAW;IAC1BC,SAAShB,OAAOiB,YAAY;IAC5BC,UAAUlB,OAAOmB,aAAa;AAChC;AAEA,MAAMC,sBAAsB;IAC1BV,OAAOT,eAAeoB,cAAc;IACpCT,KAAKX,eAAeqB,YAAY;IAChCR,QAAQb,eAAesB,eAAe;IACtCL,UAAUjB,eAAeuB,iBAAiB;IAC1CR,SAASf,eAAewB,gBAAgB;AAC1C;AAEA,MAAMC,oBAAoB;IACxB,QAAQ1B,OAAO2B,WAAW;IAC1B,eAAe3B,OAAO4B,iBAAiB;AACzC;AAqDA;;CAEC,GACD,OAAO,MAAMC,OAMT,CAAC,EACHC,MAAM,CAAC,EACPC,KAAK,EACLC,OAAO,EACPC,SAAS,MAAM,EACfC,SAAS,KAAK,EACdC,YAAY,KAAK,EACjBC,UAAU,KAAK,EACfC,QAAQ,EACRC,SAAS,EACTC,UAAU,MAAM,EAChB,GAAGC,WACO;IACV,MAAM,CAACC,QAAQC,UAAU,GAAGhD,aAAaoC;IACzC,MAAMa,gBAAgB/C,mBAAmB4C;IAEzC,qBACE,KAAC1C;QACE,GAAG6C,aAAa;QACjBC,eAAenD,WACbO,OAAO6C,IAAI,EACX,CAACX,UAAUlC,OAAO8C,IAAI,EACtBV,WAAWpC,OAAOoC,OAAO,EACzBD,cAAc,SAASnC,OAAO+C,eAAe,EAC7Cd,WAAW,UAAUjC,OAAOgD,UAAU,EACtCjB,SAAStB,eAAe,CAACsB,MAAM,EAC/BO,aAAalB,mBAAmB,CAACkB,UAAU,EAC3CN,WAAW9B,iBAAiB,CAAC8B,QAAQ,EACrCiB,eAAeR,QAAQC,YACvBH,YAAY,UAAUb,iBAAiB,CAACa,QAAQ;QAElDW,WAAWC,cAAcV,QAAQC;kBAEhCL;;AAGP,EAAE;AAEF,SAASY,eAAeR,MAAe,EAAEC,SAAkB;IACzD,OAAOjD,WACL,OAAOgD,WAAW,YAAY5C,gBAAgB,CAAC4C,OAAO,EACtD,OAAOC,cAAc,YAAY/C,mBAAmB,CAAC+C,UAAU;AAEnE;AAEA,SAASS,cAAcV,MAAe,EAAEC,SAAkB;IACxD,MAAMU,QAA6B,CAAC;IAEpC,IAAI,OAAOX,WAAW,UAAU;QAC9BW,KAAK,CAAC,2BAA2B,GAAG,GAAGX,OAAO,EAAE,CAAC;IACnD;IACA,IAAI,OAAOC,cAAc,UAAU;QACjCU,KAAK,CAAC,8BAA8B,GAAG,GAAGV,UAAU,EAAE,CAAC;IACzD;IAEA,OAAOU;AACT;AAEAvB,KAAKwB,IAAI,GAAGtD"}