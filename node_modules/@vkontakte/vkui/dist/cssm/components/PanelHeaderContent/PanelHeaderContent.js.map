{"version":3,"sources":["../../../../src/components/PanelHeaderContent/PanelHeaderContent.tsx"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport { classNames, hasReactNode } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport type { HasChildren, HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { Tappable } from '../Tappable/Tappable';\nimport { Footnote } from '../Typography/Footnote/Footnote';\nimport { Text } from '../Typography/Text/Text';\nimport styles from './PanelHeaderContent.module.css';\n\nconst platformClassNames = {\n  ios: styles.ios,\n  android: styles.android,\n  vkcom: styles.vkcom,\n};\n\nconst sizeYClassNames = {\n  none: styles.sizeYNone,\n  compact: styles.sizeYCompact,\n};\n\nexport interface PanelHeaderContentProps extends HTMLAttributesWithRootRef<HTMLDivElement> {\n  /**\n   * Компонент отображаемый после содержимого.\n   */\n  aside?: React.ReactNode;\n  /**\n   * Компонент отображаемый до содержимого.\n   */\n  before?: React.ReactNode;\n  /**\n   * Подпись под основным текстом.\n   */\n  subtitle?: React.ReactNode;\n}\n\ninterface PanelHeaderChildrenProps extends HasChildren {\n  /**\n   * Есть ли подпись.\n   */\n  hasSubtitle: boolean;\n  /**\n   * Есть ли `before`.\n   */\n  hasBefore: boolean;\n}\n\nconst PanelHeaderChildren = ({ hasSubtitle, hasBefore, children }: PanelHeaderChildrenProps) => {\n  const platform = usePlatform();\n\n  return hasSubtitle || hasBefore ? (\n    <Text\n      className={styles.childrenText}\n      Component=\"div\"\n      weight={platform === 'vkcom' ? '2' : undefined}\n    >\n      {children}\n    </Text>\n  ) : (\n    <div className={styles.childrenIn}>{children}</div>\n  );\n};\n\n/**\n * @see https://vkui.io/components/panel-header#panel-header-content\n */\nexport const PanelHeaderContent = ({\n  aside,\n  subtitle,\n  before,\n  children,\n  onClick,\n  ...restProps\n}: PanelHeaderContentProps): React.ReactNode => {\n  const { sizeY = 'none' } = useAdaptivity();\n  const InComponent = onClick ? Tappable : 'div';\n  const rootProps = onClick ? {} : restProps;\n  const platform = usePlatform();\n  const inProps = onClick\n    ? {\n        ...restProps,\n        onClick,\n        activeEffectDelay: 200,\n        hasActive: platform === 'ios',\n        activeMode: 'opacity',\n      }\n    : {};\n\n  return (\n    <RootComponent\n      {...rootProps}\n      baseClassName={classNames(\n        styles.host,\n        platformClassNames.hasOwnProperty(platform)\n          ? platformClassNames[platform]\n          : platformClassNames.android,\n        sizeY !== 'regular' && sizeYClassNames[sizeY],\n      )}\n    >\n      {hasReactNode(before) && <div className={styles.before}>{before}</div>}\n      <InComponent\n        {...inProps}\n        className={classNames(styles.in, !before && platform !== 'android' && styles.inCentered)}\n      >\n        {hasReactNode(subtitle) && <Footnote className={styles.subtitle}>{subtitle}</Footnote>}\n        <div className={styles.children}>\n          <PanelHeaderChildren\n            hasSubtitle={hasReactNode(subtitle)}\n            hasBefore={hasReactNode(before)}\n          >\n            {children}\n          </PanelHeaderChildren>\n          {hasReactNode(aside) && <div className={styles.aside}>{aside}</div>}\n        </div>\n        {hasReactNode(before) && <div className={styles.width} />}\n      </InComponent>\n    </RootComponent>\n  );\n};\n"],"names":["React","classNames","hasReactNode","useAdaptivity","usePlatform","RootComponent","Tappable","Footnote","Text","styles","platformClassNames","ios","android","vkcom","sizeYClassNames","none","sizeYNone","compact","sizeYCompact","PanelHeaderChildren","hasSubtitle","hasBefore","children","platform","className","childrenText","Component","weight","undefined","div","childrenIn","PanelHeaderContent","aside","subtitle","before","onClick","restProps","sizeY","InComponent","rootProps","inProps","activeEffectDelay","hasActive","activeMode","baseClassName","host","hasOwnProperty","in","inCentered","width"],"mappings":"AAAA;;AAEA,YAAYA,WAAW,QAAQ;AAC/B,SAASC,UAAU,EAAEC,YAAY,QAAQ,kBAAkB;AAC3D,SAASC,aAAa,QAAQ,+BAA4B;AAC1D,SAASC,WAAW,QAAQ,6BAA0B;AAEtD,SAASC,aAAa,QAAQ,oCAAiC;AAC/D,SAASC,QAAQ,QAAQ,0BAAuB;AAChD,SAASC,QAAQ,QAAQ,qCAAkC;AAC3D,SAASC,IAAI,QAAQ,6BAA0B;AAC/C,OAAOC,YAAY,kCAAkC;AAErD,MAAMC,qBAAqB;IACzBC,KAAKF,OAAOE,GAAG;IACfC,SAASH,OAAOG,OAAO;IACvBC,OAAOJ,OAAOI,KAAK;AACrB;AAEA,MAAMC,kBAAkB;IACtBC,MAAMN,OAAOO,SAAS;IACtBC,SAASR,OAAOS,YAAY;AAC9B;AA4BA,MAAMC,sBAAsB,CAAC,EAAEC,WAAW,EAAEC,SAAS,EAAEC,QAAQ,EAA4B;IACzF,MAAMC,WAAWnB;IAEjB,OAAOgB,eAAeC,0BACpB,KAACb;QACCgB,WAAWf,OAAOgB,YAAY;QAC9BC,WAAU;QACVC,QAAQJ,aAAa,UAAU,MAAMK;kBAEpCN;uBAGH,KAACO;QAAIL,WAAWf,OAAOqB,UAAU;kBAAGR;;AAExC;AAEA;;CAEC,GACD,OAAO,MAAMS,qBAAqB,CAAC,EACjCC,KAAK,EACLC,QAAQ,EACRC,MAAM,EACNZ,QAAQ,EACRa,OAAO,EACP,GAAGC,WACqB;IACxB,MAAM,EAAEC,QAAQ,MAAM,EAAE,GAAGlC;IAC3B,MAAMmC,cAAcH,UAAU7B,WAAW;IACzC,MAAMiC,YAAYJ,UAAU,CAAC,IAAIC;IACjC,MAAMb,WAAWnB;IACjB,MAAMoC,UAAUL,UACZ;QACE,GAAGC,SAAS;QACZD;QACAM,mBAAmB;QACnBC,WAAWnB,aAAa;QACxBoB,YAAY;IACd,IACA,CAAC;IAEL,qBACE,MAACtC;QACE,GAAGkC,SAAS;QACbK,eAAe3C,WACbQ,OAAOoC,IAAI,EACXnC,mBAAmBoC,cAAc,CAACvB,YAC9Bb,kBAAkB,CAACa,SAAS,GAC5Bb,mBAAmBE,OAAO,EAC9ByB,UAAU,aAAavB,eAAe,CAACuB,MAAM;;YAG9CnC,aAAagC,yBAAW,KAACL;gBAAIL,WAAWf,OAAOyB,MAAM;0BAAGA;;0BACzD,MAACI;gBACE,GAAGE,OAAO;gBACXhB,WAAWvB,WAAWQ,OAAOsC,EAAE,EAAE,CAACb,UAAUX,aAAa,aAAad,OAAOuC,UAAU;;oBAEtF9C,aAAa+B,2BAAa,KAAC1B;wBAASiB,WAAWf,OAAOwB,QAAQ;kCAAGA;;kCAClE,MAACJ;wBAAIL,WAAWf,OAAOa,QAAQ;;0CAC7B,KAACH;gCACCC,aAAalB,aAAa+B;gCAC1BZ,WAAWnB,aAAagC;0CAEvBZ;;4BAEFpB,aAAa8B,wBAAU,KAACH;gCAAIL,WAAWf,OAAOuB,KAAK;0CAAGA;;;;oBAExD9B,aAAagC,yBAAW,KAACL;wBAAIL,WAAWf,OAAOwC,KAAK;;;;;;AAI7D,EAAE"}