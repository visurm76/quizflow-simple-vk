{"version":3,"sources":["../../../../src/components/TabbarItem/TabbarItem.tsx"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport { classNames, hasReactNode, noop } from '@vkontakte/vkjs';\nimport { useFocusVisible } from '../../hooks/useFocusVisible';\nimport { useFocusVisibleClassName } from '../../hooks/useFocusVisibleClassName';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { callMultiple } from '../../lib/callMultiple';\nimport { COMMON_WARNINGS, warnOnce } from '../../lib/warnOnce';\nimport type { HasComponent, HasRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { Tappable } from '../Tappable/Tappable';\nimport { Footnote } from '../Typography/Footnote/Footnote';\nimport styles from './TabbarItem.module.css';\n\nexport interface TabbarItemProps\n  extends Omit<React.AllHTMLAttributes<HTMLElement>, 'label'>,\n    HasRootRef<HTMLElement>,\n    HasComponent {\n  /**\n   * Выбранное состояние компонента.\n   */\n  selected?: boolean;\n  /**\n   * Текст рядом с иконкой.\n   */\n  label?: React.ReactNode;\n  /**\n   * Индикатор над иконкой. Принимает `<Badge mode=\"prominent\" />` или `<Counter size=\"s\" mode=\"prominent\" />`.\n   */\n  indicator?: React.ReactNode;\n}\n\nconst warn = warnOnce('TabbarItem');\n\n/**\n * @see https://vkui.io/components/epic#tabbar-item\n */\nexport const TabbarItem = ({\n  children,\n  selected,\n  indicator,\n  label,\n  href,\n  Component = href ? 'a' : 'button',\n  disabled,\n  onFocus: onFocusProp,\n  onBlur: onBlurProp,\n  ...restProps\n}: TabbarItemProps): React.ReactNode => {\n  const platform = usePlatform();\n\n  if (process.env.NODE_ENV === 'development') {\n    const hasAccessibleName = label || restProps['aria-label'] || restProps['aria-labelledby'];\n\n    if (!hasAccessibleName) {\n      warn(COMMON_WARNINGS.a11y[Component === 'a' ? 'link-name' : 'button-name'], 'error');\n    }\n  }\n\n  const {\n    focusVisible,\n    onFocus: handleFocusVisibleOnFocus,\n    onBlur: handleFocusVisibleOnBlur,\n  } = useFocusVisible();\n  const focusVisibleClassNames = useFocusVisibleClassName({\n    focusVisible,\n  });\n\n  return (\n    <RootComponent\n      Component={Component}\n      {...restProps}\n      disabled={disabled}\n      onFocus={callMultiple(handleFocusVisibleOnFocus, onFocusProp)}\n      onBlur={callMultiple(handleFocusVisibleOnBlur, onBlurProp)}\n      href={href}\n      baseClassName={classNames(\n        styles.host,\n        platform === 'ios' && styles.ios,\n        platform === 'android' && styles.android,\n        selected && styles.selected,\n      )}\n    >\n      <Tappable\n        role=\"presentation\"\n        disabled={disabled}\n        activeMode={platform === 'ios' ? styles.tappableActive : 'background'}\n        activeEffectDelay={platform === 'ios' ? 0 : 300}\n        hasHover={false}\n        className={classNames(styles.tappable, focusVisibleClassNames)}\n        onClick={noop}\n        tabIndex={-1}\n      />\n      <div className={styles.in}>\n        <div className={styles.icon}>\n          {children}\n          <div className=\"vkuiInternalTabbarItem__label\">\n            {hasReactNode(indicator) && indicator}\n          </div>\n        </div>\n        {label && (\n          <Footnote Component=\"div\" className={styles.label} weight=\"2\">\n            {label}\n          </Footnote>\n        )}\n      </div>\n    </RootComponent>\n  );\n};\n"],"names":["React","classNames","hasReactNode","noop","useFocusVisible","useFocusVisibleClassName","usePlatform","callMultiple","COMMON_WARNINGS","warnOnce","RootComponent","Tappable","Footnote","styles","warn","TabbarItem","children","selected","indicator","label","href","Component","disabled","onFocus","onFocusProp","onBlur","onBlurProp","restProps","platform","process","env","NODE_ENV","hasAccessibleName","a11y","focusVisible","handleFocusVisibleOnFocus","handleFocusVisibleOnBlur","focusVisibleClassNames","baseClassName","host","ios","android","role","activeMode","tappableActive","activeEffectDelay","hasHover","className","tappable","onClick","tabIndex","div","in","icon","weight"],"mappings":"AAAA;;AAEA,YAAYA,WAAW,QAAQ;AAC/B,SAASC,UAAU,EAAEC,YAAY,EAAEC,IAAI,QAAQ,kBAAkB;AACjE,SAASC,eAAe,QAAQ,iCAA8B;AAC9D,SAASC,wBAAwB,QAAQ,0CAAuC;AAChF,SAASC,WAAW,QAAQ,6BAA0B;AACtD,SAASC,YAAY,QAAQ,4BAAyB;AACtD,SAASC,eAAe,EAAEC,QAAQ,QAAQ,wBAAqB;AAE/D,SAASC,aAAa,QAAQ,oCAAiC;AAC/D,SAASC,QAAQ,QAAQ,0BAAuB;AAChD,SAASC,QAAQ,QAAQ,qCAAkC;AAC3D,OAAOC,YAAY,0BAA0B;AAoB7C,MAAMC,OAAOL,SAAS;AAEtB;;CAEC,GACD,OAAO,MAAMM,aAAa,CAAC,EACzBC,QAAQ,EACRC,QAAQ,EACRC,SAAS,EACTC,KAAK,EACLC,IAAI,EACJC,YAAYD,OAAO,MAAM,QAAQ,EACjCE,QAAQ,EACRC,SAASC,WAAW,EACpBC,QAAQC,UAAU,EAClB,GAAGC,WACa;IAChB,MAAMC,WAAWtB;IAEjB,IAAIuB,QAAQC,GAAG,CAACC,QAAQ,KAAK,eAAe;QAC1C,MAAMC,oBAAoBb,SAASQ,SAAS,CAAC,aAAa,IAAIA,SAAS,CAAC,kBAAkB;QAE1F,IAAI,CAACK,mBAAmB;YACtBlB,KAAKN,gBAAgByB,IAAI,CAACZ,cAAc,MAAM,cAAc,cAAc,EAAE;QAC9E;IACF;IAEA,MAAM,EACJa,YAAY,EACZX,SAASY,yBAAyB,EAClCV,QAAQW,wBAAwB,EACjC,GAAGhC;IACJ,MAAMiC,yBAAyBhC,yBAAyB;QACtD6B;IACF;IAEA,qBACE,MAACxB;QACCW,WAAWA;QACV,GAAGM,SAAS;QACbL,UAAUA;QACVC,SAAShB,aAAa4B,2BAA2BX;QACjDC,QAAQlB,aAAa6B,0BAA0BV;QAC/CN,MAAMA;QACNkB,eAAerC,WACbY,OAAO0B,IAAI,EACXX,aAAa,SAASf,OAAO2B,GAAG,EAChCZ,aAAa,aAAaf,OAAO4B,OAAO,EACxCxB,YAAYJ,OAAOI,QAAQ;;0BAG7B,KAACN;gBACC+B,MAAK;gBACLpB,UAAUA;gBACVqB,YAAYf,aAAa,QAAQf,OAAO+B,cAAc,GAAG;gBACzDC,mBAAmBjB,aAAa,QAAQ,IAAI;gBAC5CkB,UAAU;gBACVC,WAAW9C,WAAWY,OAAOmC,QAAQ,EAAEX;gBACvCY,SAAS9C;gBACT+C,UAAU,CAAC;;0BAEb,MAACC;gBAAIJ,WAAWlC,OAAOuC,EAAE;;kCACvB,MAACD;wBAAIJ,WAAWlC,OAAOwC,IAAI;;4BACxBrC;0CACD,KAACmC;gCAAIJ,WAAU;0CACZ7C,aAAagB,cAAcA;;;;oBAG/BC,uBACC,KAACP;wBAASS,WAAU;wBAAM0B,WAAWlC,OAAOM,KAAK;wBAAEmC,QAAO;kCACvDnC;;;;;;AAMb,EAAE"}