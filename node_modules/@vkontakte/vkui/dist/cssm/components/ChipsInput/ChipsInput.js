'use client';
import { jsx as _jsx } from "react/jsx-runtime";
import { useExternRef } from "../../hooks/useExternRef.js";
import { useMergeProps } from "../../hooks/useMergeProps.js";
import { ChipsInputBase } from "../ChipsInputBase/ChipsInputBase.js";
import { useChipsInput } from "./useChipsInput.js";
/**
 * @see https://vkui.io/components/chips-input
 */ export const ChipsInput = ({ // option
value: valueProp, defaultValue, onChange, // input
getRef, inputValue: inputValueProp, defaultInputValue: defaultInputValueProp, onInputChange: onInputChangeProp, getOptionValue, getOptionLabel, getNewOptionData, // other
disabled: disabledProp, allowClearButton, delimiter, slotProps, ...restProps })=>{
    const { getRootRef: getInputRef, value: resolvedInputValue, defaultValue: resolvedInputDefaultValue, onChange: resolvedOnInputChange, disabled, ...inputRest } = useMergeProps({
        getRootRef: getRef,
        value: inputValueProp,
        defaultValue: defaultInputValueProp,
        onChange: onInputChangeProp,
        disabled: disabledProp
    }, slotProps?.input);
    const { value, addOptionFromInput, removeOption, clearOptions, // input
    inputRef: inputRefHook, inputValue, onInputChange } = useChipsInput({
        // option
        value: valueProp,
        defaultValue,
        onChange,
        getOptionLabel,
        getOptionValue,
        getNewOptionData,
        // input
        inputValue: resolvedInputValue,
        defaultInputValue: resolvedInputDefaultValue,
        onInputChange: resolvedOnInputChange,
        // other
        disabled,
        delimiter
    });
    const inputRef = useExternRef(getInputRef, inputRefHook);
    return /*#__PURE__*/ _jsx(ChipsInputBase, {
        value: value,
        clearButtonShown: allowClearButton && (!!value.length || !!inputValue.length),
        onAddChipOption: addOptionFromInput,
        onRemoveChipOption: removeOption,
        onClear: clearOptions,
        slotProps: {
            ...slotProps,
            input: {
                getRootRef: inputRef,
                value: inputValue,
                onChange: onInputChange,
                disabled,
                ...inputRest
            }
        },
        ...restProps
    });
};

//# sourceMappingURL=ChipsInput.js.map