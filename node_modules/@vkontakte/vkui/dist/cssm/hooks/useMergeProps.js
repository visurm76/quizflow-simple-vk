import { classNames } from "@vkontakte/vkjs";
import { getMergedSameEventsByProps } from "../helpers/getMergedSameEventsByProps.js";
import { mergeStyle } from "../helpers/mergeStyle.js";
import { filterObject } from "../lib/object.js";
import { useExternRef } from "./useExternRef.js";
const filterProps = (props)=>{
    return filterObject(props, (value)=>value !== undefined);
};
export const useMergeProps = (originalProps, slotProps)=>{
    const originalSlotGetRef = originalProps.getRootRef;
    const rootSlotGetRef = slotProps?.getRootRef;
    const getRootRef = useExternRef(originalSlotGetRef, rootSlotGetRef);
    if (!slotProps) {
        return filterProps(originalProps);
    }
    const { className: rootSlotClassName, style: rootSlotStyle, ...rootSlotProps } = slotProps || {};
    const { className: originalClassName, style: originalSlotStyle, ...originalRestProps } = originalProps;
    const resolvedClassName = originalClassName || rootSlotClassName ? classNames(originalClassName, rootSlotClassName) : undefined;
    const resolvedStyle = originalSlotStyle || rootSlotStyle ? mergeStyle(originalSlotStyle, rootSlotStyle) : undefined;
    const mergedEventsByInjectProps = getMergedSameEventsByProps(originalRestProps, rootSlotProps);
    const resolvedProps = {
        ...originalRestProps,
        ...rootSlotProps,
        ...mergedEventsByInjectProps
    };
    if (resolvedClassName) {
        resolvedProps.className = resolvedClassName;
    }
    if (resolvedStyle) {
        resolvedProps.style = resolvedStyle;
    }
    if (rootSlotGetRef || originalSlotGetRef) {
        resolvedProps.getRootRef = getRootRef;
    }
    return filterProps(resolvedProps);
};

//# sourceMappingURL=useMergeProps.js.map